/* generated by template _lsp.LanguageServerContext*/

package de.monticore.lang.sd4development._lsp;

import de.mclsg.lsp.util.LanguageServerContext;
import de.mclsg.lsp.LanguageServerWriteLock;
import de.monticore.lang.sd4development.SD4DevelopmentMill;
import de.monticore.lang.sdbasis.SDBasisMill;
import de.monticore.types.mcbasictypes.MCBasicTypesMill;
import de.monticore.mcbasics.MCBasicsMill;
import de.monticore.symbols.basicsymbols.BasicSymbolsMill;
import de.monticore.expressions.expressionsbasis.ExpressionsBasisMill;
import de.monticore.literals.mcliteralsbasis.MCLiteralsBasisMill;
import de.monticore.umlstereotype.UMLStereotypeMill;
import de.monticore.literals.mccommonliterals.MCCommonLiteralsMill;
import de.monticore.expressions.commonexpressions.CommonExpressionsMill;
import de.monticore.ocl.oclexpressions.OCLExpressionsMill;
import de.monticore.symbols.oosymbols.OOSymbolsMill;

public class SD4DevelopmentLanguageServerContext implements LanguageServerContext {
  protected SD4DevelopmentLanguageServer languageServer;
  protected LanguageServerWriteLock lock;

  SD4DevelopmentMill sd4developmentMill;
  SD4DevelopmentMill oldSD4DevelopmentMill;
  SDBasisMill sdbasisMill;
  SDBasisMill oldSDBasisMill;
  MCBasicTypesMill mcbasictypesMill;
  MCBasicTypesMill oldMCBasicTypesMill;
  MCBasicsMill mcbasicsMill;
  MCBasicsMill oldMCBasicsMill;
  BasicSymbolsMill basicsymbolsMill;
  BasicSymbolsMill oldBasicSymbolsMill;
  ExpressionsBasisMill expressionsbasisMill;
  ExpressionsBasisMill oldExpressionsBasisMill;
  MCLiteralsBasisMill mcliteralsbasisMill;
  MCLiteralsBasisMill oldMCLiteralsBasisMill;
  UMLStereotypeMill umlstereotypeMill;
  UMLStereotypeMill oldUMLStereotypeMill;
  MCCommonLiteralsMill mccommonliteralsMill;
  MCCommonLiteralsMill oldMCCommonLiteralsMill;
  CommonExpressionsMill commonexpressionsMill;
  CommonExpressionsMill oldCommonExpressionsMill;
  OCLExpressionsMill oclexpressionsMill;
  OCLExpressionsMill oldOCLExpressionsMill;
  OOSymbolsMill oosymbolsMill;
  OOSymbolsMill oldOOSymbolsMill;

  public SD4DevelopmentLanguageServerContext(SD4DevelopmentLanguageServer languageServer){
    this.languageServer = languageServer;
    initMills();
  }

  protected void initMills(){
    SD4DevelopmentMill.init();
    sd4developmentMill = SD4DevelopmentMill.getMill();
    sdbasisMill = SDBasisMill.getMill();
    mcbasictypesMill = MCBasicTypesMill.getMill();
    mcbasicsMill = MCBasicsMill.getMill();
    basicsymbolsMill = BasicSymbolsMill.getMill();
    expressionsbasisMill = ExpressionsBasisMill.getMill();
    mcliteralsbasisMill = MCLiteralsBasisMill.getMill();
    umlstereotypeMill = UMLStereotypeMill.getMill();
    mccommonliteralsMill = MCCommonLiteralsMill.getMill();
    commonexpressionsMill = CommonExpressionsMill.getMill();
    oclexpressionsMill = OCLExpressionsMill.getMill();
    oosymbolsMill = OOSymbolsMill.getMill();
  }

  public SD4DevelopmentLanguageServer getLanguageServer(){
    return languageServer;
  }

  public LanguageServerContext open(){
    try{
      lock = LanguageServerWriteLock.waitForLock();
    }catch(InterruptedException e){
      throw new RuntimeException(e);
    }
    oldSD4DevelopmentMill = SD4DevelopmentMill.getMill();
    SD4DevelopmentMill.initMe(sd4developmentMill);
    oldSDBasisMill = SDBasisMill.getMill();
    SDBasisMill.initMe(sdbasisMill);
    oldMCBasicTypesMill = MCBasicTypesMill.getMill();
    MCBasicTypesMill.initMe(mcbasictypesMill);
    oldMCBasicsMill = MCBasicsMill.getMill();
    MCBasicsMill.initMe(mcbasicsMill);
    oldBasicSymbolsMill = BasicSymbolsMill.getMill();
    BasicSymbolsMill.initMe(basicsymbolsMill);
    oldExpressionsBasisMill = ExpressionsBasisMill.getMill();
    ExpressionsBasisMill.initMe(expressionsbasisMill);
    oldMCLiteralsBasisMill = MCLiteralsBasisMill.getMill();
    MCLiteralsBasisMill.initMe(mcliteralsbasisMill);
    oldUMLStereotypeMill = UMLStereotypeMill.getMill();
    UMLStereotypeMill.initMe(umlstereotypeMill);
    oldMCCommonLiteralsMill = MCCommonLiteralsMill.getMill();
    MCCommonLiteralsMill.initMe(mccommonliteralsMill);
    oldCommonExpressionsMill = CommonExpressionsMill.getMill();
    CommonExpressionsMill.initMe(commonexpressionsMill);
    oldOCLExpressionsMill = OCLExpressionsMill.getMill();
    OCLExpressionsMill.initMe(oclexpressionsMill);
    oldOOSymbolsMill = OOSymbolsMill.getMill();
    OOSymbolsMill.initMe(oosymbolsMill);
    return this;
  }

  public void close(){
    SD4DevelopmentMill.initMe(oldSD4DevelopmentMill);
    SDBasisMill.initMe(oldSDBasisMill);
    MCBasicTypesMill.initMe(oldMCBasicTypesMill);
    MCBasicsMill.initMe(oldMCBasicsMill);
    BasicSymbolsMill.initMe(oldBasicSymbolsMill);
    ExpressionsBasisMill.initMe(oldExpressionsBasisMill);
    MCLiteralsBasisMill.initMe(oldMCLiteralsBasisMill);
    UMLStereotypeMill.initMe(oldUMLStereotypeMill);
    MCCommonLiteralsMill.initMe(oldMCCommonLiteralsMill);
    CommonExpressionsMill.initMe(oldCommonExpressionsMill);
    OCLExpressionsMill.initMe(oldOCLExpressionsMill);
    OOSymbolsMill.initMe(oldOOSymbolsMill);
    try{
      lock.close();
    }catch(InterruptedException e){
      throw new RuntimeException(e);
    }
  }
}
